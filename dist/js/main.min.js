var Game=function(){function t(t,i,e){var n=this;this.context=t,this.width=i,this.height=e,this.context.canvas.addEventListener("click",function(t){n.click(t)}),this.renderer=new Engine.Renderer(t,i,e,function(t){n.renderWorld(t)});new Engine.StartLevel}return t.prototype.start=function(){this.renderer.start()},t.prototype.stop=function(){this.renderer.stop()},t.prototype.renderWorld=function(t){this.currentLevel.render(this.context,t)},t.prototype.click=function(t){var i=t.offsetX,e=t.offsetY;this.currentLevel.sprites.forEach(function(n){n.checkCollision(i,e)&&n.click(t)}),console.log("x: "+t.offsetX),console.log("y: "+t.offsetY)},t}(),Engine;!function(t){var i=function(){function t(t,i,e,n){this.context=t,this.width=i,this.height=e,this.render=n}return t.prototype.start=function(){var t=this;this.running=!0,this.animationFrame=window.requestAnimationFrame(function(i){return t.renderLoop(i)})},t.prototype.renderLoop=function(t){var i=this;this.running&&(this.clear(),this.render(t),window.requestAnimationFrame(function(t){return i.renderLoop(t)}))},t.prototype.stop=function(){this.clear(),window.cancelAnimationFrame(this.animationFrame),this.running=!1},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t}();t.Renderer=i}(Engine||(Engine={}));var Engine;!function(t){var i=function(){function t(t,i,e,n,r,s,o){this.x=t,this.y=i,this.frameWidth=e,this.frameHeight=n,this.image=new Image,this.image.src=r,this.currentFrame=0,this.frames=s,this.fps=o,this.lastTimestamp=0}return t.prototype.render=function(t,i){null!=this.lastTimestamp&&void 0!=this.lastTimestamp||(this.lastTimestamp=i);var e=i-this.lastTimestamp;null!=this.frames&&e>1e3/this.fps&&(this.animate(t),this.lastTimestamp=i),t.drawImage(this.image,this.currentFrame*this.frameWidth,0,this.frameWidth,this.image.height,this.x,this.y,this.frameWidth,this.image.height)},t.prototype.animate=function(t){this.currentFrame++,this.currentFrame>=this.frames&&(this.currentFrame=0)},t.prototype.checkCollision=function(t,i){return i>=this.y&&i<=this.y+this.frameHeight&&t>=this.x&&t<=this.x+this.frameWidth},t.prototype.click=function(t){console.log("Sprite Got Clicked")},t}();t.Sprite=i}(Engine||(Engine={}));var Engine;!function(t){var i=function(){function t(t,i,e,n,r){this.x=t,this.y=i,this.frameWidth=e,this.frameHeight=n,this.text=r}return t.prototype.render=function(t,i){t.font="2em Arial",t.fillText(this.text,this.x,this.y)},t.prototype.checkCollision=function(t,i){return i>=this.y&&i<=this.y+this.frameHeight&&t>=this.x&&t<=this.x+this.frameWidth},t.prototype.click=function(t){console.log("Button Got Clicked")},t}();t.Button=i}(Engine||(Engine={}));